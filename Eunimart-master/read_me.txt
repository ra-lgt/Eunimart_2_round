front_end is taken from the open source